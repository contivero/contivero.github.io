<!doctype html><html lang=en-us><head><meta name=generator content="Hugo 0.64.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=author content="Cristian A. Ontivero"><meta name=description content="an example site for hugo theme TeXify"><link rel=icon href=https://contivero.github.io/favicon.ico><meta name=keywords content="hugo  latex  theme"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css integrity=sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js integrity=sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'\\[',right:'\\]',display:true},{left:'$',right:'$',display:false},{left:'\\(',right:'\\)',display:false}],ignoredTags:['script','noscript','style','textarea','pre','code','option'],throwOnError:false});});</script><meta property="og:title" content="Cristian Ontivero"><meta property="og:description" content="an example site for hugo theme TeXify"><meta property="og:type" content="website"><meta property="og:url" content="https://contivero.github.io/"><meta property="og:updated_time" content="2024-08-01T00:00:00+02:00"><link rel=canonical href=https://contivero.github.io/><link rel=alternate type=application/rss+xml href=https://contivero.github.io/index.xml title="Cristian Ontivero"><meta itemprop=name content="Cristian Ontivero"><meta itemprop=description content="an example site for hugo theme TeXify"><link media=screen rel=stylesheet href=https://contivero.github.io/css/common.css><link media=screen rel=stylesheet href=https://contivero.github.io/css/content.css><title>Cristian Ontivero</title><meta name=twitter:card content="summary"><meta name=twitter:title content="Cristian Ontivero"><meta name=twitter:description content="an example site for hugo theme TeXify"><link rel=stylesheet href=https://contivero.github.io/css/index.css></head><body><div id=wrapper><header id=header><h1><a href=https://contivero.github.io/>Cristian Ontivero</a></h1><nav><span class=nav-bar-item><a class=link href=/>Posts</a></span>
<span class=nav-bar-item><a class=link href=/post/>Archives</a></span>
<span class=nav-bar-item><a class=link href=/about/>About</a></span></nav></header><main id=main class=index><div class=post><h2><a href=https://contivero.github.io/post/speeding-up-tests/>Speeding Up Test Suite In Java</a>
<time>2024-08-01</time></h2><div><b>Keywords:</b>
<a class=link href=https://contivero.github.io/tags/java>#Java</a>
<a class=link href=https://contivero.github.io/tags/spring>#Spring</a>
<a class=link href=https://contivero.github.io/tags/tests>#Tests</a></div><div class=content>I once had the chance to speed up a test suite spanning multiple maven projects which took over 4 hours to run. The suite had around 8100 tests, many of which were integration tests using a Spring ApplicationContext. I managed to get this down to around 1h 20~30 mins, until other priorities prevented further reductions.
What follows is how this was achieved, and what things to watch out for.
Using a single JVM for the tests in a project The very first point is reusing forks in your maven-surefire-plugin and maven-failsafe-plugin configurations.</div></div><div class=post><h2><a href=https://contivero.github.io/post/class-as-alternative-to-parameter-threading/>Class as Alternative to Parameter Threading</a>
<time>2024-07-31</time></h2><div><b>Keywords:</b>
<a class=link href=https://contivero.github.io/tags/java>#Java</a></div><div class=content>Instead of injecting values through method arguments and having to keep passing them wherever they are needed, consider creating an immutable object which encapsulates the logic and the needed values which are set on creation.
One benefit of this is improved readability. For instance, suppose we have two sets, one of valid codes for something (validCodes) and another of allowed dates (allowedDates). Compare:
if (isValidCode(validCodes, code) && isInAllowedDates(allowedDates, date)) { /* do something */ } vs.</div></div><div class=post><h2><a href=https://contivero.github.io/post/development-configuration/>Development Configuration</a>
<time>2024-04-16</time></h2><div class=content>After upgrading my machine at work, I had to migrate my configuration, and even remember some forgotten details about it. This is an attempt to document them for future reference:
Git config: Prerequisite: delta.
[user] email = work.email@here name = Cristian A. Ontivero [diff] algorithm = histogram [merge] conflictstyle = zdiff3 [pack] useSparse = true [pull] rebase = true [pager] diff = delta log = delta reflog = delta show = delta [interactive] diffFilter = delta --color-only [delta] features = line-numbers decorations whitespace-error-style = 22 reverse [delta "decorations"] commit-decoration-style = bold yellow box ul file-style = bold yellow ul file-decoration-style = none [core] bare = false compression = 9 editor = vim -c 'startinsert!</div></div><div class=post><h2><a href=https://contivero.github.io/post/self-proxy-injection-anti-pattern/>Self Proxy Injection Anti-Pattern</a>
<time>2023-04-26</time></h2><div><b>Keywords:</b>
<a class=link href=https://contivero.github.io/tags/java>#Java</a>
<a class=link href=https://contivero.github.io/tags/spring>#Spring</a></div><div class=content>Because of how Spring&rsquo;s implementation of AOP works (i.e. proxies), internal calls to a method in a proxied bean cannot be intercepted. This is a limitation of any AOP implementation using dynamic proxies. A way I&rsquo;ve seen used to bypass this limitation is having an object with a dependency on itself, so that, for instance, internal calls to methods can also be cached when using a cache proxy1. Something like the following:</div></div><div class=post><h2><a href=https://contivero.github.io/post/towards-a-type-safe-map/>Towards a Typesafe Map</a>
<time>2022-10-02</time></h2><div><b>Keywords:</b>
<a class=link href=https://contivero.github.io/tags/java>#Java</a></div><div class=content>Say we want a heterogeneous Map in java, i.e. a map where the values have different types. Let&rsquo;s further assume we know the possible keys at compile time.
Barebones solution The simplest approach would be having a Map&lt;String, Object> (or whatever other key type). We would need to remember which key corresponds to which type, and do the proper casts:
String value1 = (String) map.get("someStringKey"); boolean value2 = (boolean) map.get("someBooleanKey"); /* etc.</div></div><div class=paginator><a></a><a class=link href=/page/2/>next ‚Üí</a></div></main><footer id=footer><div><span>¬© 2019</span> - <span>2024</span></div><div><span>Powered by</span>
<a class=link href=https://gohugo.io/>Hugo</a>
<span>üç¶ Theme</span>
<a class=link href=https://github.com/queensferryme/hugo-theme-texify>TeXify</a></div><div class=footnote><span><a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0 target=_blank rel=noopener>CC BY-NC-SA 4.0</a></span></div></footer></div></body></html>